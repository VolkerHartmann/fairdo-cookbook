<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js navy">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>FAIR DO Cookbook</title>
        
        <meta name="robots" content="noindex" />
        
        


        <!-- Custom HTML head -->
        


        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        
        <link rel="icon" href="favicon.svg">
        
        
        <link rel="shortcut icon" href="favicon.png">
        
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        
        <link rel="stylesheet" href="css/print.css" media="print">
        

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        
        <link rel="stylesheet" href="fonts/fonts.css">
        

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        
        <link rel="stylesheet" href="hierarchical_numbered_lists.css">
        
        <link rel="stylesheet" href="chapter_list.css">
        
        <link rel="stylesheet" href="theme-adjustments.css">
        

        
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "navy";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('navy')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item affix "><a href="about.html">About</a></li><li class="chapter-item "><a href="pids/intro.html">Working with PIDs</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="pids/create.html">Create a PID</a></li><li class="chapter-item "><a href="pids/resolve.html">Resolve a PID</a></li><li class="chapter-item "><a href="pids/update.html">Update/maintain a PID</a></li><li class="chapter-item "><a href="pids/delete.html">Delete a PID</a></li></ol></li><li class="chapter-item "><a href="pids/notify.html">Inform other systems about changes among your PIDs</a></li><li class="chapter-item "><a href="pids/search.html">Search PIDs using record information</a></li><li class="chapter-item "><a href="datatypes_intro.html">Create a Data Type</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="datatypes_step_1.html">Search data type registry for suitable data type</a></li><li class="chapter-item "><a href="datatypes_step_2.html">Describe/model envisioned data type</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="datatypes_step_2_1.html">Decide on Data Type‘s level of detail</a></li><li class="chapter-item "><a href="datatypes_step_2_2.html">DTR Inquiry</a></li></ol></li><li class="chapter-item "><a href="datatypes_step_3.html">Register data type(s) in data type registry</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="datatypes_step_3_1.html">Register new Child-Data Type(s)</a></li><li class="chapter-item "><a href="datatypes_step_3_2.html">Register extended Child-Data Type(s)</a></li><li class="chapter-item "><a href="datatypes_step_3_3.html">Register main Data Type</a></li></ol></li></ol></li><li class="chapter-item "><a href="kip_intro.html">Create a PID KIP</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="kip_step_1.html">Search data type registry for suitable KIP</a></li><li class="chapter-item "><a href="kip_step_2.html">Describe/model envisioned KIP</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="kip_step_2_1.html">Call to mind basic KIP principles</a></li><li class="chapter-item "><a href="kip_step_2_2.html">Decide on KIP contents</a></li></ol></li><li class="chapter-item "><a href="kip_step_3.html">Register new KIP in Data Type Registry</a></li></ol></li><li class="chapter-item "><a href="appendix/intro.html">Appendix</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="appendix/appendix_pit.html">PID Information Types service</a></li><li class="chapter-item "><a href="appendix/appendix_testbed.html">FAIR DO Ecosystem Testbed</a></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder" class="click-transparent"></div>
                <div class="logo-header mobile-on">
    <div class="logo-spacing-general">
        <a class="logo-align-middle logo-card"
        href="https://kit.edu/"
        title="Karlsruhe Institute of Technology"
        aria-label="Visit the KIT Website">
            <img class="lightonly" src="kit_logo_en_black.svg" alt="KIT logo">
            <img class="darkonly" src="kit_logo_en_white.svg" alt="KIT logo">
            <img class="whiteonly" src="kit_logo_en.svg" alt="KIT logo">
        </a>
    </div>
</div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                        
                    </div>

                    <h1 class="menu-title" title="FAIR DO Cookbook">
                        FAIR DO Cookbook
                    </h1>

                    <div class="right-buttons">
                        <div class="logo-spacing-general">
                            <a class="mobile-off logo-align-middle logo-card" href="https://kit.edu/" title="Karlsruhe Institute of Technology" aria-label="Visit the KIT Website">
                                <img class="lightonly" src="kit_logo_en_black.svg" alt="KIT logo">
                                <img class="darkonly" src="kit_logo_en_white.svg" alt="KIT logo">
                                <img class="whiteonly" src="kit_logo_en.svg" alt="KIT logo">
                            </a>
                        </div>
                        
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        
                        
                        <a href="https://github.com/kit-data-manager/fairdo-cookbook/" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>
                        
                        

                    </div>
                </div>

                
                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1><a class="header" href="#welcome" id="welcome">Welcome</a></h1>
<p>This cookbook shall guide the reader through the different use cases when adopting, maintaining and using FAIR Digital Objects.</p>
<div class="centerbox">
    <img src="./images/cover.png" alt="cookbook cover" style="max-height:50em;" />
</div>
<h2><a class="header" href="#target-audience" id="target-audience">Target audience</a></h2>
<p>This cookbook is targeted at people who:</p>
<ul>
<li>build, control or maintain infrastructure or clients that should work with FAIR DOs in some way.</li>
<li>are interested in how types, profiles and records work and how they can be crated.</li>
</ul>
<p>Future target groups are also planned:</p>
<ul>
<li>People who need to know about how a machine can understand and act on (e.g. record) information within FAIR DOs.</li>
</ul>
<h2><a class="header" href="#about-us" id="about-us">About us</a></h2>
<p><a href="https://www.scc.kit.edu/ueberuns/dem.php">Data Expoitation Methods (DEM)</a>, is part of the Steinbuch Centre for Computing (SCC), located at Karlsruhe Institute of Technology (KIT).</p>
<div class="centerbox">
    <div class="logo-spacing-general">
        <a class="logo-align-middle logo-card"
        href="https://kit.edu/"
        title="Karlsruhe Institute of Technology"
        aria-label="Visit the KIT Website">
            <img class="lightonly" src="/kit_logo_en_black.svg" alt="KIT logo">
            <img class="darkonly" src="/kit_logo_en_white.svg" alt="KIT logo">
            <img class="whiteonly" src="/kit_logo_en.svg" alt="KIT logo">
        </a>
    </div>
</div><h1><a class="header" href="#introduction-working-with-pids" id="introduction-working-with-pids">Introduction: Working with PIDs</a></h1>
<p><strong>A PID is a unique, persistent and resolvable identifier for an object.</strong> This object might be (meta-)data, data streams, sensors, repositories and more. PIDs are associated with information (PID record information) which helps to access the object and to elaborate the use of the object for the use case of a client. This means that a PID resolves to a &quot;landing page for machines&quot; (the PID record), enabling the client to decide if it can work with this object and to programmatically access it. Therefore PIDs are a vital part of FAIR Digital Objects.</p>
<p><img src="pids/../images/pid_overview.drawio.svg" alt="" /></p>
<p><strong>The following recipes are about working with PIDs</strong> and use the same ingredients and similar steps. Working with PIDs means in this case, to do <a href="https://de.wikipedia.org/wiki/CRUD">CRUD-Operations</a> (Create, Retrieve, Update, Delete) with PIDs. We use our <a href="pids/../appendix/appendix_testbed.html">Testbed</a> to elaborate and test generic PID handling and advanced use cases.</p>
<blockquote>
<p>Note that there is no delete-Operation recommended in the context of FAIR Digital Objects, therefore the recipe will not describe how to delete it, but show how to handle use cases which seem to make PID deletion relevant, like data loss or licansing issues.</p>
</blockquote>
<p><img src="pids/../images/pit_to_pid.drawio.svg" alt="" /></p>
<hr />
<h2><a class="header" href="#recipes" id="recipes">Recipes</a></h2>
<ul>
<li><a href="pids/./create.html">Create a PID</a><br />
This is also known as &quot;Creating a FAIR Digital Object&quot; or &quot;Creating a PID Record&quot;.</li>
<li><a href="pids/./resolve.html">Resolve a PID</a><br />
This is the action to get the content of a PIDs record, which is the &quot;landing page for machines&quot; This is the first information a machine can get and make first decisions.</li>
<li><a href="pids/./update.html">Update a PID</a><br />
PIDs and their contents ideally remain constant. For data curation reasons there still might be reasons where someone wants to update the PID record, for example to update the new object location, when a server has moved.</li>
<li><a href="pids/./delete.html">Delete a PID</a><br />
Deleting is against the P(ersistent) in PID. There are cases where you might feel the need to delete PIDs. But in FAIR ecosystems, the solution is usually a PID record update. This recipe is about why you should not delete PIDs and about guidelines that discuss which modifications should be done on such a record, and which shouldn't.</li>
</ul>
<h1><a class="header" href="#create-a-pid" id="create-a-pid">Create a PID</a></h1>
<p>Creating a PID means not only to register an identifier, but also to fill it with reasonable information at the same time. Creating a PID is therefore the same as &quot;creating a PID record&quot; or similar terms. In some contexts it is also referred to as &quot;creating a FAIR Digital Object&quot; or &quot;minting a PID&quot;.</p>
<p>As you can see in the ingedient list, you will need a profile. A reference to the profile will be stored in the record and is used for record validation and easing decisionmaking for machines. First, search for existing profiles. This will maximize reusability. If no fitting profile exists, you need to create one. <a href="pids/../kip_intro.html">The process of searching or creating of such profiles is already described in another recipe.</a> It is important that you are able to fulfill the profiles requirements, meaning that you have the information to create a valid record according to this profile (last point in the ingredients).</p>
<hr />
<h2><a class="header" href="#ingredients" id="ingredients">Ingredients</a></h2>
<ul>
<li>A running <a href="pids/../appendix/appendix_pit.html">PID Information Types Service</a> or Testbed instance</li>
<li><a href="pids/../kip_intro.html">A PID Information Profile</a> that can properly represent your object you want to represent</li>
<li>A reference to your data/object (e.g. a URL), which can be used with your profile</li>
<li>Information which needs to be provided according to the profile</li>
</ul>
<hr />
<h2><a class="header" href="#work-steps-summary" id="work-steps-summary">Work Steps (Summary)</a></h2>
<ol>
<li>Build a JSON-Representation of the PID record.</li>
<li>Request the PID Information Types service (also available in the testbed) to register a PID with the representation from step 1.</li>
</ol>
<hr />
<h2><a class="header" href="#step-1-build-a-json-representation-of-the-pid-record" id="step-1-build-a-json-representation-of-the-pid-record">Step 1: Build a JSON-Representation of the PID record</a></h2>
<p>PID records can be seen as Key-Value-Stores, where the keys are PIDs of types, and the values follow the rules of the type. The PID Information Types (PIT) Service only creates PIDs with a valid record in the following sense: Each PID record has to contain a PID of a profile. A profile defines which information is mandatory for this record and which information is optionally allowed. It is registered in a data type registry. The types again describe their meaning and their possible values. With this precondition, it is possible to validate if the record follows all rules of the profile:</p>
<ol>
<li>All mandatory properties defined within the profile are contained within the record.</li>
<li>Only properties defined within the profile are contained (if the profile does not allow arbitrary extra properties explicitly).</li>
<li>All properties have valid values according to their definitions in the DTR.</li>
<li>Every property can be resolved and is defined in a DTR.</li>
</ol>
<p>Therefore, we need to build a JSON-Representation of the PID record to send to the PIT service. Usually a program will do this request, in some cases supported by human intervention. The program might be a workflow system, a repository or similar. As you have access to a PID information types service, the documentation of the API is available under it's domain (depending on the configuration, something like <code>http://domain:port/swagger-ui.html</code>). There you will find the current representation of a PID record within this service, using JSON. The difference to typical Key-Value mappings is that there might be multiple values allowed for some types, depending on the profile. So it can be considered as a mapping in the following sense:</p>
<pre><code class="language-text">&quot;PID_of_type&quot; -&gt; List[&quot;value1&quot;, &quot;value2&quot;, ...]
</code></pre>
<blockquote>
<p>Note: The JSON representation additionally might contain a &quot;pid&quot; field. In the creation step, this field is ignored and can be omitted or null. It is used for reponses from the PIT service only. The same goes for other fields like &quot;name&quot;, which might contain human readable names. For creation, the only the types and values are important.</p>
</blockquote>
<p>The types are defined in the profile you have chosen (or created). The profile also decides if you need to assign a value to the type or if this type is optional. It also defines if a type can have multiple values (repeatability). After receiving the record information, the PIT information types service will use the contained profile to validate the information. Only if the validation succeeds, a new PID with the given record information will be registered at the configured PID service. It is therefore important to have a record which is valid according to its self-contained profile. For more information about types and profiles, you might want to read into the following recipes: <a href="pids/../datatypes_intro.html">Create a data type</a>, <a href="pids/../kip_intro.html">Create a profile</a>.</p>
<p><img src="pids/../images/testbed_create_update.png" alt="The testbed validates records before creating or updating PIDs." /></p>
<p>As you already chose the profile, try to fill it at best effort (remember that there are likely some mandatory fields). Note that all records must contain the PID of their profile. This is – again – defined in each profile. This PID will be used by the PID information types service to validate your record. This means that if your record is not valid according to the profile you chose, no PID will be created. More details to that in the next step. Let us assume a <a href="http://dtr-test.pidconsortium.net/#objects/21.T11148/0c5636e4d82b88f86132">simple profile</a>:</p>
<table><thead><tr><th>Property</th><th>mandatory</th><th>Description</th></tr></thead><tbody>
<tr><td>kernelInformationProfile</td><td>yes</td><td>PID of the KIP for this PID record</td></tr>
<tr><td>digitalObjectType</td><td>yes</td><td>PID of the Data Type of the referenced object</td></tr>
<tr><td>digitalObjectLocation</td><td>yes</td><td>Location URL of the referenced object</td></tr>
<tr><td>digitalObjectPolicy</td><td>yes</td><td>PID of the policy object with e.g. license information</td></tr>
<tr><td>etag</td><td>yes</td><td>Etag (checksum) of the current state of the referenced object</td></tr>
<tr><td>dateModified</td><td>no</td><td>Last modification date of the references object</td></tr>
<tr><td>dateCreated</td><td>yes</td><td>Creation date of the referenced object</td></tr>
<tr><td>version</td><td>no</td><td>Version of the referenced object</td></tr>
<tr><td>wasDerivedFrom</td><td>no</td><td>PID of another object according to <a href="https://www.w3.org/TR/2013/REC-prov-dm-20130430/">PROV-DM</a> recommendation</td></tr>
<tr><td>specializationOf</td><td>no</td><td>PID of another object according to <a href="https://www.w3.org/TR/2013/REC-prov-dm-20130430/">PROV-DM</a> recommendation</td></tr>
<tr><td>wasRevisionOf</td><td>no</td><td>PID of another object according to <a href="https://www.w3.org/TR/2013/REC-prov-dm-20130430/">PROV-DM</a> recommendation</td></tr>
<tr><td>hadPrimarySource</td><td>no</td><td>PID of another object according to <a href="https://www.w3.org/TR/2013/REC-prov-dm-20130430/">PROV-DM</a> recommendation</td></tr>
<tr><td>wasQuotedFrom</td><td>no</td><td>PID of another object according to <a href="https://www.w3.org/TR/2013/REC-prov-dm-20130430/">PROV-DM</a> recommendation</td></tr>
<tr><td>alternateOf</td><td>no</td><td>PID of another object according to <a href="https://www.w3.org/TR/2013/REC-prov-dm-20130430/">PROV-DM</a> recommendation</td></tr>
</tbody></table>
<p><a href="http://dtr-test.pidconsortium.net/#objects/21.T11148/0c5636e4d82b88f86132">In this example, we use this profile</a>. Each profile has a list of properties. Go to the profile definition in the Data Type Registry, scroll to the first property (&quot;KernelInformationProfile&quot;) and click on the link to it (displayed as &quot;<a href="http://dtr-test.pidconsortium.net/#objects/21.T11148/076759916209e5d62bd5">type name: KernelInformationProfile</a>&quot;).</p>
<p><img src="pids/../images/click_type_link.png" alt="How to find the type link." /></p>
<p>On the properties page, you can see that this type has one sub-property, which is also called &quot;KernelInformationProfile&quot; and accepts a Handle-System-PID as a value. In the &quot;Representation and Semantics&quot; section, you can also see that &quot;Abbreviated Form&quot; is set to &quot;Yes&quot;. This simplifies the values for this type to ignore the encapsulation and allows us to simply refer to the inner type. Instead of writing</p>
<pre><code class="language-json">{
  &quot;KernelInformationProfile&quot;:
    {&quot;KernelInformationProfile&quot;: &quot;some/handleIdentifier&quot;}
}
</code></pre>
<p>for the value, this allows us to omit the actual parent type:</p>
<pre><code class="language-json">    {&quot;KernelInformationProfile&quot;: &quot;some/handleIdentifier&quot;}
</code></pre>
<p>And as the inner type has the property <code>Omit Name as Subsidiary</code> set to <code>Yes</code>, we can also omit the inner types name, too. This means we can simply use a handle PID as a value for the type KernelInformationProfile:</p>
<pre><code class="language-json">&quot;some/handleIdentifier&quot;
</code></pre>
<p>On the bottom of the types page you can find a JSON schema. This schema can be used on a value to validate it. It is a technical representation of the rules set on the types page. On the top of the type page you can find more about its semantics. There is a description and a list of related standards or recommendations.</p>
<p>This procedure can be done similar for all other types to figure out which values are allowed and what the semantic is. Note that all types refer to the object behind the PID record. For example, if a type represents a checksum, it has to be the checksum of the object the record is pointing to, not the checksum of the record or anything else. Keep this as a guideline when figuring out the actual values for your record.</p>
<p>Now, bring your record into the actual JSON representation by figuring out the values for at least all mandatory fields, store the result in a file called &quot;record.json&quot; and continue with step 2. <a href="pids/./test.json">In our example, the prepared record might look like this</a>. Make sure you use the format that fits your PIT service version. A visual example of how the PID record of the famous Iris dataset could look like is given in the following figure. Note that this is a classical legacy dataset, without proper provenance or licensing information.</p>
<p><img src="pids/../images/record-example_iris-dataset.drawio.svg" alt="A PID record to describe the Iris Dataset." /></p>
<h2><a class="header" href="#step-2-send-pid-create-request-to-pid-information-types-service" id="step-2-send-pid-create-request-to-pid-information-types-service">Step 2: Send PID create request to PID Information Types service</a></h2>
<p>Every instance hosts an interactive API documentation. It is available at <code>http://domain:port/swagger-ui.html</code>, where domain and port is specific to your instance. To do a small manual test, the following bash script will help you. In practice you probably want to do it automatically or build a user interface in case it is done (semi-)manually.</p>
<ol>
<li><a href="pids/./create_pid.bash">Download the bash script to register a PID</a>. Remember that for production-configured PID information types services, this will register a real PID.</li>
<li>Remember to store the JSON representation into a file in the same directory as the bash script. Call it for example <code>record.json</code>. <a href="pids/./test.json">You may use this example record</a> if you like. Note that its &quot;pid&quot; field contains a PID, which will be ignored for PID creation. There will be a new PID assigned.</li>
<li>Open a terminal and execute this command:
<ul>
<li><code>bash create_pid.bash $url record.json</code></li>
<li>where <code>$url</code> must be replaced with the hostname and port of the PIT service (e.g. <code>https://localhost:8090</code> if you run the testbed).</li>
</ul>
</li>
</ol>
<p>On success the service will return the information back to you. It should be exactly the same, but with the PID of your object included. In this example, you can see that we used the sandboxed, temporary PID service for testing: <code>{&quot;pid&quot;:&quot;sandboxed/-647408938&quot;,&quot;entries&quot;:{...}}</code></p>
<h1><a class="header" href="#resolve-a-pid" id="resolve-a-pid">Resolve a PID</a></h1>
<p>Resolving a PID (also &quot;retrieving/reading a PID (record)&quot;) is the process of submitting the PID to a system in order to receive the associated PID record as a response. It is sometimes also called &quot;resolving a FAIR Digital Object&quot;, although this term is also used to refer to the process of accessing the actual data object which makes it a vague term. Resolving allows machines to read (and act on) the PIDs record information.</p>
<p>In contrast to the modifying use cases (<a href="pids/./create.html">create</a> and <a href="pids/./update.html">update</a>), the record is currently not being validated during this operation. The reason is that neither the machine nor the user is able to prevent the record from being invalid within a reading operation. If the received record contains a profile, the PIT service can be explicitly requested to validate the PID record if the user or tool needs this information.</p>
<hr />
<h2><a class="header" href="#ingredients-1" id="ingredients-1">Ingredients</a></h2>
<ul>
<li>A registered PID you want to resolve.</li>
<li>Access to a <a href="pids/../appendix/appendix_pit.html">PID Information Types Service</a> or a Testbed instance.</li>
</ul>
<hr />
<h2><a class="header" href="#work-steps-summary-1" id="work-steps-summary-1">Work Steps (Summary)</a></h2>
<ol>
<li>Request the PID information types service to resolve a given PID</li>
</ol>
<hr />
<h2><a class="header" href="#step-1-request-the-pid-information-types-service-to-resolve-a-given-pid" id="step-1-request-the-pid-information-types-service-to-resolve-a-given-pid">Step 1: Request the PID information types service to resolve a given PID</a></h2>
<p>The PID information types service offers an API to resolve PIDs. The principle is simple: You give it the API and will get a JSON document in return, which contains the content of the PIDs record.</p>
<p><img src="pids/../images/testbed_resolve.png" alt="" /></p>
<h3><a class="header" href="#using-the-pid-information-types-instance" id="using-the-pid-information-types-instance">Using the PID information types instance</a></h3>
<p>The advantage of this method is that the PID information types service is an abstraction of the PID system used. This means that if you switch the system in the background, the API will stay the same. The resolving step does currently not involve any FAIR or profile validation.</p>
<ol>
<li>Download <a href="pids/./resolve_pid.bash">resolve_pid.bash</a></li>
<li>Run this in your terminal: <code>bash resolve_pid.bash $url &quot;$pid&quot;</code>
<ul>
<li>where <code>$url</code> must be replaced with the hostname and port (e.g. <code>https://hostname:port</code>)</li>
<li>where <code>$pid</code> must be the PID you want to resolve.</li>
</ul>
</li>
</ol>
<p>The result will be the same as after creating a PID: A JSON document that contains the record information similar to this:</p>
<pre><code class="language-json">{&quot;pid&quot;: &quot;sandboxed/406871&quot;,&quot;entries&quot;: {...}}
</code></pre>
<h3><a class="header" href="#using-the-handle-resolver-try-it-in-your-browser" id="using-the-handle-resolver-try-it-in-your-browser">Using the handle resolver (try it in your browser!)</a></h3>
<blockquote>
<p>Note: Like with the PID information types service, this only works with PIDs built upon the handle system. If you use another system, you need to look for a compatible web-resolver.</p>
</blockquote>
<ol>
<li>Go to <a href="https://hdl.handle.net">hdl.handle.net</a>.</li>
<li>Insert the PID in the &quot;Handle&quot; field.</li>
<li>Check the &quot;Don't redirect to URLs&quot; option.</li>
<li>Click on the &quot;Submit&quot; button.</li>
</ol>
<p>You will see a table, similar to the one after this paragraph. It contains a &quot;Type&quot; column, which for a real FAIR Digital Object <strong>must</strong> contain only PIDs. Exceptions are other types that are required by a PID system, often containing specific, administrative information. The &quot;Data&quot; column contains the value of the according type in the same line. All other columns are handle specific. Here you can see an excerpt of a handle PID record:</p>
<table><thead><tr><th>Index</th><th>Type</th><th>Timestamp</th><th>Data</th></tr></thead><tbody>
<tr><td>1</td><td>21.T11148/8eb858ee0b12e8e463a5</td><td>2021-04-19 08:59:03Z</td><td>{&quot;identifierValue&quot;: &quot;http://hdl.handle.net/21.T11998/0000-001A-3905-F&quot;, &quot;identifierType&quot;: &quot;Handle&quot;}</td></tr>
<tr><td>3</td><td>21.T11148/9a15a4735d4bda329d80</td><td>2021-04-15 10:47:38Z</td><td>https://linkedsystems.uk/system/instance/TOOL0022_2490/current/</td></tr>
<tr><td>4</td><td>21.T11148/709a23220f2c3d64d1e1</td><td>2021-04-15 10:47:38Z</td><td>Sea-Bird SBE 37-IM MicroCAT C-T Sensor</td></tr>
<tr><td>12</td><td>21.T11148/eb3c713572f681e6c4c3</td><td>2021-04-19 10:41:18Z</td><td>[{ &quot;alternateIdentifier&quot;: {&quot;alternateIdentifierValue&quot;: &quot;2490&quot;, &quot;alternateIdentifierType&quot;: &quot;serialNumber&quot; }}]</td></tr>
<tr><td>13</td><td>21.T11148/178fb558abc755ca7046</td><td>2021-04-19 10:41:18Z</td><td>[{&quot;relatedIdentifier&quot;: {&quot;relatedIdentifierValue&quot;: &quot;https://www.bodc.ac.uk/data/documents/nodb/pdf/37imbrochurejul08.pdf&quot;, &quot;relatedIdentifierType&quot;: &quot;URL&quot;, &quot;relationType&quot;: &quot;IsDescribedBy&quot;}}]</td></tr>
</tbody></table>
<h1><a class="header" href="#updatemaintain-a-pid" id="updatemaintain-a-pid">Update/maintain a PID</a></h1>
<p>Updating means to resolve the record, change it, and then send it back for an update. Therefore this recipe is very similar to &quot;<a href="pids/./create.html">Create a PID</a>&quot;.</p>
<hr />
<h2><a class="header" href="#ingredients-2" id="ingredients-2">Ingredients</a></h2>
<ul>
<li>Access to a <a href="pids/../appendix/appendix_pit.html">PID Information Types Service</a> or a Testbed instance.</li>
<li>The information you want to put into the record (new data and replacing data is both possible).</li>
</ul>
<hr />
<h2><a class="header" href="#work-steps-summary-2" id="work-steps-summary-2">Work Steps (Summary)</a></h2>
<ol>
<li>Resolve the PID</li>
<li>Modify the JSON-Representation of the PID record as you wish.</li>
<li>Request the PID Information Types service (also available in the testbed) to update the PID and send the JSON record (step 3) together with the request.</li>
</ol>
<hr />
<h2><a class="header" href="#step-1-resolve-a-pid" id="step-1-resolve-a-pid">Step 1: Resolve a PID</a></h2>
<p>The idea of updating a record is the following: Get the current state, modify the record, then overwrite the whole record with your modified version. To get the current state, you need to <a href="pids/./resolve.html">resolve the PID, as stated in this recipe</a>.</p>
<h2><a class="header" href="#step-2-modify-the-json-representation-of-the-pid-record-as-you-wish" id="step-2-modify-the-json-representation-of-the-pid-record-as-you-wish">Step 2: Modify the JSON-Representation of the PID record as you wish</a></h2>
<p>You may use any JSON manipulation tool to exchange any information in the record, even the profile. But there will — like when using the &quot;create API&quot; — be a validation before the PID information types service will do the update. So make sure that the result of your modifications is a valid record according to the (maybe new) profile before proceeding. More on that in the following recipe: <a href="pids/./create.html">Create a PID</a></p>
<h2><a class="header" href="#step-3-send-pid-update-request-to-pid-information-types-service" id="step-3-send-pid-update-request-to-pid-information-types-service">Step 3: Send PID update request to PID Information Types service</a></h2>
<p>This request is very similar to the <a href="pids/./create.html">create request</a>. The difference is that you will need to provide a PID which will have its record updated. The record will be validated, and if validation fails, the PID will not be updated.</p>
<p><img src="pids/../images/testbed_create_update.png" alt="The testbed validates records before creating or updating PIDs." /></p>
<ol>
<li><a href="pids/./update_pid.bash">Download the bash script to update a PID</a>.</li>
<li>Remember to store the JSON representation into a file in the same directory as the bash script. Call it for example <code>record.json</code>. <a href="pids/./test.json">You may use this example record</a> if you like. Note that its &quot;pid&quot; field contains a PID, which will be ignored for PID updates.</li>
<li>Open a terminal and execute this command:
<ul>
<li><code>bash update_pid.bash $url record.json $pid</code></li>
<li>where <code>$url</code> must be replaced with the hostname and port (e.g. <code>https://hostname:port</code>).</li>
<li>where <code>$pid</code> must be replaced with the pid of the record that shall be updated.</li>
</ul>
</li>
</ol>
<h1><a class="header" href="#delete-a-pid" id="delete-a-pid">Delete a PID</a></h1>
<p>Deleting a PID should not be done, as it is against the P in PID. The reason to use PIDs is to give certain guarantees about citing and reusing objects, while keeping the provenance management simple. Usually, current PID systems do indeed offer a possibility to delete PIDs. As we are considering FAIR ecosystems, we do not expose this functionality to maintain reusability and citability to the highest degree possible. It is therefore not supported by the PID information types service (PIT).</p>
<p>But there are solutions if you feel the need, which are better than updating the record to a useless dummy record. There are cases where deleting a PID might seem to be a solution at the first glance:</p>
<ol>
<li>The object access is now restricted (e.g., it was made public by accident).</li>
<li>The object is gone. It might have been an accident, for administrative reasons (free space, archival, ...) or other reasons.</li>
</ol>
<p>The following recipe will cover what we recommend in such cases. Every recommendation involves <a href="pids/./update.html">modifying/updating the record</a> in specific ways.</p>
<hr />
<h2><a class="header" href="#ingredients-3" id="ingredients-3">Ingredients</a></h2>
<p>See the &quot;<a href="pids/./update.html">Update a PID recipe</a>&quot; to see the ingredients and steps. This recipe will cover in which way the record should be modified in different cases.</p>
<hr />
<h2><a class="header" href="#work-steps" id="work-steps">Work Steps</a></h2>
<h3><a class="header" href="#if-the-object-was-available-and-a-pid-registered-but-access-is-now-restricted" id="if-the-object-was-available-and-a-pid-registered-but-access-is-now-restricted">If the object was available and a PID registered, but access is now restricted</a></h3>
<p>FAIR Digital Objects can handle restricted access. It is encouraged to make data public if possible, to improve the situation for open data, open science, citizen science and so on. But sometimes it is not possible due to legal or privacy considerations. The important part is that a machine has to be able to know how to access the object if it has the neccessary legitimation. If access is not possible in an automated way, the machine must be able to tell the user what she needs to do to gain access. Profiles need to be able to express this, but currently there is, unfortunately, no consensus about how this information should be represented. Generally, this is what should be done:</p>
<ol>
<li>Make sure no confidential information is stored in the record.</li>
<li>Add information to the record that states that the object access is restricted.</li>
<li>Add information to the record that states how access can be achieved.</li>
</ol>
<p><a href="pids/./update.html">Read this recipe on how to update your record.</a></p>
<h3><a class="header" href="#if-the-object-is-not-available-anymore-and-will-probably-never-be-available-again" id="if-the-object-is-not-available-anymore-and-will-probably-never-be-available-again">If the object is not available anymore and will probably never be available again</a></h3>
<p>It is common consensus in PID handling to store a so called tomb stone in your profile and keep as much information as feasible within the record. To place this tombstone in the PID record, an according profile might need to be chosen. What the tombstone is will depend on the profile. It might be as simple as a human readable string or contain machine readable codes, similar to HTTP status codes.</p>
<ol>
<li>Keep as much information as feasible in the record. There is no reason to loose even more information. Fingerprints like checksums might be useful in case data appears again, to identify it.</li>
<li>Place a thombstone in the record to state that this object is gone, with as much information about why it has disappeared as possible. In case there is a new PID leading to the object, link it in the record.</li>
</ol>
<p><a href="pids/./update.html">Read this recipe on how to update your record.</a></p>
<h1><a class="header" href="#inform-other-systems-about-changes-among-your-pids" id="inform-other-systems-about-changes-among-your-pids">Inform other systems about changes among your PIDs</a></h1>
<p>If a PID has been created or a record has been updated, there might be the need to notify other services about this event. These might be internal or external services to be notified, depending on the use case. Examples are library systems, catalogues, search indices or backup systems. The receiving services could also be bridges to other technologies, like RSS feeds of data publications of a certain kind or other user oriented technologies. Bridging services might also help to close gaps if underlying technologies like TCP/IP change at some point of time.</p>
<p><img src="pids/../images/testbed_notify.png" alt="The PIT service will notify the message broker, which will distribute the message among its subscribers." /></p>
<p>This recipe shows the steps needed to notify a service.</p>
<hr />
<h2><a class="header" href="#ingredients-4" id="ingredients-4">Ingredients</a></h2>
<ul>
<li>A message broker instance, AMQP compatible</li>
<li>Access to a <a href="pids/../appendix/appendix_pit.html">PID Information Types Service</a> configured to use the message broker instance</li>
<li>A service that should be notified, implementing the AMQP protocol</li>
</ul>
<p>Alternatively, for testing/experimentation purposes, you can use a <a href="pids/../appendix/appendix_testbed.html">testbed</a> instance, which comes with pre-configured with these ingredients and can be run using docker on your local machine.</p>
<hr />
<h2><a class="header" href="#work-steps-summary-3" id="work-steps-summary-3">Work Steps (Summary)</a></h2>
<p>As soon as the PID information types service is configured to use the message broker, everything happens in the background. These steps show you how to visualize what happens hidden in the background, when using the testbed.</p>
<ol>
<li>Run the service that should be notified and register it at the message broker.</li>
<li>Do any <a href="pids/./create.html">create</a> or <a href="pids/./update.html">update</a> operation on the PID information types service.</li>
<li>Use the management interface to see the messaging process happening within the message broker.</li>
<li>View the result of your service.</li>
</ol>
<hr />
<h2><a class="header" href="#step1-run-the-service-that-should-be-notified-and-register-it-at-the-message-broker" id="step1-run-the-service-that-should-be-notified-and-register-it-at-the-message-broker">Step1: Run the service that should be notified and register it at the message broker</a></h2>
<p>The <a href="pids/../appendix/appendix_testbed.html">testbed</a> implements the messaging principle using a message broker<sup class="footnote-reference"><a href="#messagebroker">1</a></sup>. It is a flexible approach that also enables federation and peering. The PIT service instance is by default configured to notify this service about create or update operations using a message. The message only contains a topic string and the PID this message is about. Services need to register in beforehand at the message broker for certain topics in order to receive those messages. It is up to the services what to do with the PID inside. The idea is to use the machine actionability of FAIR Digital Objects to enable services to decide themselves how to handle the received PID and information and data that can be reached by it.</p>
<p>If you use a testbed instance with its default configuration, you can skip this step. It already comes with an indexing service running in the background. If you use your own service, register for all topics beginning with &quot;record.*&quot;.</p>
<div class="footnote-definition" id="messagebroker"><sup class="footnote-definition-label">1</sup>
<p>Currently, RabbitMQ is used as a message broker. It implements the „Advanced Message Queuing Protocol“ (AMQP) <a href="https://www.rabbitmq.com/">https://www.rabbitmq.com/</a></p>
</div>
<h2><a class="header" href="#step-2-do-any-create-or-update-operation-on-the-pid-information-types-service" id="step-2-do-any-create-or-update-operation-on-the-pid-information-types-service">Step 2: Do any create or update operation on the PID information types service</a></h2>
<p>Follow one of the following recipes to trigger a notification:</p>
<ol>
<li><a href="pids/./create.html">Create a PID</a></li>
<li><a href="pids/./update.html">Update a PID</a></li>
</ol>
<p>Both actions trigger notifications. Notifications are currently very small. They simply contain a topic string and a PID, which the receiver may resolve and decide how to act on it. A create event notification might contain the topic &quot;record.create&quot;, while an update event notification might have the topic &quot;record.update&quot;.</p>
<h2><a class="header" href="#step-3-use-the-management-interface-to-see-the-messaging-process-happening-within-the-message-broker" id="step-3-use-the-management-interface-to-see-the-messaging-process-happening-within-the-message-broker">Step 3: Use the management interface to see the messaging process happening within the message broker</a></h2>
<p>Using the testbed, you can access a management interface within your browser, using the following credentials:</p>
<ul>
<li>URL: <a href="http://localhost:15672/">http://localhost:15672/</a></li>
<li>Username: guest</li>
<li>Password: guest</li>
</ul>
<p>On the first page in the dashboard, you should see something like this graph:</p>
<p><img src="pids/../images/testbed_messagebroker_activity-peak.png" alt="The messagebroker dashboard shows a peak, indicating a single incoming message." /></p>
<p>It indicates an incoming message. Feel free to also explore the exchange and queues in the interface. If you used your own message broker, the interface might look different.</p>
<h2><a class="header" href="#step-4-view-the-result-of-your-service" id="step-4-view-the-result-of-your-service">Step 4: View the result of your service</a></h2>
<p>If you use the testbed, see if your action is represented in the contained search index. You can read about how to access in the <a href="pids/./search.html">search recipe</a>. If you use your own service, check if it acted as expected.</p>
<h1><a class="header" href="#search-pids-using-record-information" id="search-pids-using-record-information">Search PIDs using record information</a></h1>
<p>To search within PIDs, you need a search index. This recipe is about how such an index can be created and used. This approach generally works using the <a href="pids/./notify.html">messaging approach to notify other services</a>, in this case an indexer service. This approach scales well and supports federation, which enables not only to build up one large search index, but also specialized niche indices easily.</p>
<p><img src="pids/../images/testbed_search.png" alt="A message broker can distribute one message to all its subscribers efficiently." /></p>
<p>This approach is implemented in the <a href="pids/../appendix/appendix_testbed.html">testbed</a>, but there currently only supports the indexing of PIDs which will be announced via <a href="pids/./notify.html">message brokers</a>. This means that in the testbed, only PIDs which get created or updated after the search functionality was set up are indexed (change notifications). To also retrieve older PIDs which are not changing, ecosystems must offer further approaches, like regular &quot;record.refresh&quot; messages, indicating non-changing PIDs regularly or similar.</p>
<hr />
<h2><a class="header" href="#ingredients-5" id="ingredients-5">Ingredients</a></h2>
<ul>
<li>One or more message brokers to subscribe to for PIDs</li>
<li>A search index like elasticsearch for example</li>
<li>An indexer service with AMQP support, which can ingest FDOs into the search index</li>
</ul>
<p>Alternatively, for testing/experimentation purposes, you can use a <a href="pids/../appendix/appendix_testbed.html">testbed</a> instance, which comes with pre-configured with these ingredients and can be run using docker on your local machine.</p>
<hr />
<h2><a class="header" href="#work-steps-summary-4" id="work-steps-summary-4">Work Steps (Summary)</a></h2>
<p>As soon as the PID information types service is configured to use the message broker, everything happens in the background. These steps show you how to visualize what happens hidden in the background, when using the testbed.</p>
<ol>
<li>Register your indexer at selected message brokers</li>
<li>Use the search index to explore the results</li>
<li>Use the search index APIs to build your custom search functionality.</li>
</ol>
<hr />
<p>TODO</p>
<h1><a class="header" href="#create-a-data-type" id="create-a-data-type">Create a Data Type</a></h1>
<p>This receipt will show you how to create your first Data Type in a Data Type Registry. Together with Persistent Identifiers, which we deal with in another receipt, Data Types are a second essential ingredient of a FAIR Digital Object.</p>
<hr />
<h2><a class="header" href="#ingredients-6" id="ingredients-6">Ingredients</a></h2>
<ul>
<li>Data Type Registry (DTR), e.g. <a href="http://dtr-test.pidconsortium.eu/">http://dtr-test.pidconsortium.eu/</a></li>
<li>Registered user account at Data Type Registry</li>
<li>Web Browser</li>
</ul>
<hr />
<h2><a class="header" href="#work-steps-1" id="work-steps-1">Work Steps</a></h2>
<nestednumerationlist>
<ol>
<li><a href="./datatypes_step_1.html">Search data type registry for suitable data type</a></li>
<li><a href="./datatypes_step_2.html">Describe/model envisioned data type (offline)</a>
<ol>
<li><a href="./datatypes_step_2_1.html">Decide on Data Type‘s level of detail</a></li>
<li><a href="./datatypes_step_2_2.html">DTR Inquiry</a></li>
</ol>
</li>
<li><a href="./datatypes_step_3.html">Register data type(s) in data type registry</a>
<ol>
<li><a href="./datatypes_step_3_1.html">Register new Child-Data Type(s)</a></li>
<li><a href="./datatypes_step_3_2.html">Register extended Child-Data Type(s)</a></li>
<li><a href="./datatypes_step_3_3.html">Register main Data Type</a></li>
</ol>
</li>
</ol>
</nestednumerationlist><h2><a class="header" href="#1-search-data-type-registry-for-suitable-data-type" id="1-search-data-type-registry-for-suitable-data-type">1. Search data type registry for suitable data type</a></h2>
<p>This first step assumes, that you have (read) access to a Data Type Registry, e.g., <a href="http://dtr-test.pidconsortium.eu/">http://dtr-test.pidconsortium.eu/</a>. Open the link to the DTR in your Web Browser and query for an existing Data Type, which best describes the digital resource you want to typify.  You may use the following decision graph showing what will be the next step depending on what you found. </p>
<p><img src="./images/datatype_step1.png" alt="Search Data Type Registry" /></p>
<h2><a class="header" href="#2-describemodel-envisioned-data-type" id="2-describemodel-envisioned-data-type">2. Describe/model envisioned <strong>data</strong> <strong>type</strong></a></h2>
<p>Assuming that your search ended up at <em>Create new Data Type</em>, we now have to model the Data Type which we will register later. First, we should decide to which level of detail we want to model our Data Type and which are the consequences. </p>
<h2><a class="header" href="#21-decide-on-data-types-level-of-detail" id="21-decide-on-data-types-level-of-detail">2.1 Decide on Data Type‘s level of detail</a></h2>
<p>The following overview shows advantages and disadvantages of choosing a certain level of Data Type granularity. </p>
<p><img src="./images/datatype_step2.png" alt="Decision on Level of Detail" /></p>
<p>Examples:</p>
<table><thead><tr><th></th><th>Data Type Name</th><th>Data Type PID</th></tr></thead><tbody>
<tr><td><strong>Granularity 1</strong></td><td></td><td></td></tr>
<tr><td></td><td>media-type-IANA-image</td><td>21.T11148/2834eac0159f584bcf05</td></tr>
<tr><td></td><td>media-type-IANA-application</td><td>21.T11148/edff7f2829db22e260a3</td></tr>
<tr><td><strong>Granularity 2</strong></td><td></td><td></td></tr>
<tr><td></td><td>Testbed4inf-Profile</td><td>21.T11148/61fd3446879407065218</td></tr>
<tr><td></td><td>Kernel_Information_Profile_DARIAH</td><td>21.T11148/f1eea855587d8b1f66da</td></tr>
<tr><td><strong>Granularity 3</strong></td><td></td><td></td></tr>
<tr><td></td><td>MemberItem</td><td>21.T11148/195f306b750096f4fb6c</td></tr>
<tr><td></td><td>Collection</td><td>21.T11148/2037de437c80264ccbce</td></tr>
</tbody></table>
<p>The main difference of the different levels of granularity is the depth of the resulting Data Type hierarchy. Data Types of <em>Granularity 1</em> have no hierarchy at all. Everything they need is defined in one single type. This allows them to be easily created, very generic and they also support basic value validation. Furthermore, their re-usability is comparably high, e.g., as sub-element of other, more complex Data Types.</span></p>
<p>With <em>Granularity 2</em>, Data Types have at least one hierarchy level as they consist of the Data Type itself and one or more sub-elements, which also have a certain Data Type. These sub-elements also cause the additional effort, as the current receipt <code>Create a Data Type</code> has to be applied to all of them. As a result, a more in-depth validation of a resource can be performed. The re-usability is still quite high, especially for a specific purpose, e.g., to represent PID Kernel Information Profiles. </p>
<p>Data Types of <em>Granularity 3</em> can be the most complex Data Types. Their intention is to represent a structured resource in detail, e.g., to reflect its entire hierarchy. The main advantage is, that such Data Types allow the full validation of matching resources and a high-degree of machine-readability and -interpretability. However, the effort for creating Data Types of <em>Granularity 3</em> can be extremely high, especially for nested hierarchies. Furthermore, as they contain very detailed information about a certain resource, their re-usability is very small.</p>
<p>In the course of this receipt, we will model a Data Type of <em>Granularity 3</em>. The following sample resource shows the structure we want to represent as a new Data Type.</p>
<p><img src="./images/datatype_resource.png" alt="Sample Resource" /></p>
<h2><a class="header" href="#22-dtr-inquiry" id="22-dtr-inquiry">2.2 DTR Inquiry</a></h2>
<p>What we have to do now is to check for every property in the hierarchy, whether we can find an appropriate Data Type in the DTR. Therefor, we collect all properties in a checklist:</p>
<table><thead><tr><th>Property</th><th>DTR Inquiry Result (<span style="color:green">Reuse</span>, <span style="color:orange">Extend</span>, <span style="color:red">Create</span>)</th></tr></thead><tbody>
<tr><td>id</td><td></td></tr>
<tr><td>pid</td><td></td></tr>
<tr><td>relatedResource</td><td></td></tr>
<tr><td>createdAt</td><td></td></tr>
<tr><td>lastUpdate</td><td></td></tr>
<tr><td>schemaId</td><td></td></tr>
<tr><td>recordVersion</td><td></td></tr>
<tr><td>metadataDocumentUri</td><td></td></tr>
<tr><td>documentHash</td><td></td></tr>
<tr><td>aclList</td><td></td></tr>
</tbody></table>
<p>Now, we go through each element in the checklist and apply the following process filling the checklist successively:</p>
<p><img src="./images/datatype_step3.png" alt="Property Inquiry" /></p>
<p>As a result, the previously prepared checklist looks as follows:</p>
<table><thead><tr><th>Property</th><th>DTR Inquiry Result (<span style="color:green">Reuse</span>, <span style="color:orange">Extend</span>, <span style="color:red">Create</span>)</th></tr></thead><tbody>
<tr><td>id</td><td><span style="color:green">Reuse</span> <strong>unicode-line-string</strong> (21.T11148/f1627ce85386d8d75078)</td></tr>
<tr><td>pid</td><td><span style="color:green">Reuse</span> <strong>identifier-general</strong> (21.T11148/38330bcc6a40ca85e5b4)</td></tr>
<tr><td>relatedResource</td><td><span style="color:green">Reuse</span> <strong>URL</strong> (21.T11148/e0efc41346cda4ba84ca)</td></tr>
<tr><td>createdAt</td><td><span style="color:green">Reuse</span> <strong>date-time-rfc3339</strong> (21.T11148/3bfb2839a6967114bc3e)</td></tr>
<tr><td>lastUpdate</td><td><span style="color:green">Reuse</span> <strong>date-time-rfc3339</strong> (21.T11148/3bfb2839a6967114bc3e)</td></tr>
<tr><td>schemaId</td><td><span style="color:green">Reuse</span> <strong>unicode-line-string</strong> (21.T11148/f1627ce85386d8d75078)</td></tr>
<tr><td>recordVersion</td><td><span style="color:green">Reuse</span> <strong>non_negative_integer</strong> (21.T11148/eca44a2ac007d5e126f5)</td></tr>
<tr><td>metadataDocumentUri</td><td><span style="color:green">Reuse</span> <strong>URL</strong> (21.T11148/e0efc41346cda4ba84ca)</td></tr>
<tr><td>documentHash</td><td><span style="color:green">Reuse</span> <strong>sha-checksum</strong> (21.T11148/66bf538937bf74bfc48a)</td></tr>
<tr><td>aclList</td><td><span style="color:red">Create</span></td></tr>
</tbody></table>
<blockquote>
<p><span style="color:orange">It's highly recommended to note the PIDs of the identified Data Types, as we'll need them later.</span> </p>
</blockquote>
<p>Almost done, only <code>aclList</code> is still open. As this property is another complex type, we have to create another checklist filling it the same way as we just did: </p>
<table><thead><tr><th>Property</th><th>DTR Inquiry Result (<span style="color:green">Reuse</span>, <span style="color:orange">Extend</span>, <span style="color:red">Create</span>)</th></tr></thead><tbody>
<tr><td>sid</td><td><span style="color:green">Reuse</span> <strong>unicode-line-string</strong> (21.T11148/f1627ce85386d8d75078)</td></tr>
<tr><td>permission</td><td><span style="color:red">Create</span></td></tr>
</tbody></table>
<h2><a class="header" href="#3-register-data-types-in-data-type-registry" id="3-register-data-types-in-data-type-registry">3. Register data type(s) in data type registry</a></h2>
<p>In the following steps, Data Types which were not found in the DTR, e.g., marked as <span style="color:orange">Extend</span> or <span style="color:red">Create</span> in your checklist, have to be registered at the DTR. This is done in a reverse order starting with missing Data Types at the lowest hierarchy level. In our case, we start with registering the <code>permission</code> Data Type in order to be able to proceed with defining the <code>aclEntry</code> Data Type and so forth.</p>
<h2><a class="header" href="#31-register-new-child-data-types" id="31-register-new-child-data-types">3.1 Register new Child-Data Type(s)</a></h2>
<p>Coming back to our <code>aclEntry</code> checklist we see, that the <code>permission</code> Data Type is missing. We'll now register this new Data Type at our DTR instance.</p>
<table><thead><tr><th>Property</th><th>DTR Inquiry Result (<span style="color:green">Reuse</span>, <span style="color:orange">Extend</span>, <span style="color:red">Create</span>)</th></tr></thead><tbody>
<tr><td>sid</td><td><span style="color:green">Reuse</span> <strong>unicode-line-string</strong> (21.T11148/f1627ce85386d8d75078)</td></tr>
<tr><td>permission</td><td><span style="color:red">Create</span></td></tr>
</tbody></table>
<blockquote>
<p><span style="color:orange">In order to create Data Types at the DTR, write permissions are required. In order to receive proper permissions, you'll have to create a user account. Typically, you'll have to contact the provider of the DTR in order to request a new user account.</span></p>
</blockquote>
<p>After logging in, you are able to create a new Data Type using the <code>Create</code> Dropdown Button next to the search field. Here you should select <code>PID-BasicInfoType</code>.</p>
<p><img src="./images/datatype_permission_create_1.png" alt="" /></p>
<p>As you can see in the screenshot, we just assign a <em>Type Name</em> and a <em>Contributor</em> in the upper section of the form before we proceed to the lower part. Here we add a new <em>Property</em>, assign <em>string</em> as <em>Data Type</em> and add the enumeration list containing all possible values of our envisioned <code>permission</code> Data Type.</p>
<p><img src="./images/datatype_permission_create_2.png" alt="" /></p>
<p>We may also assign a <em>Default Value</em> before we <em>Save</em> the new Data Type. As a result, the Data Type is created and gets a PID assigned. In our case, this PID is <code>21.T11148/1785713451d01948bc96</code>, which we add to our checklist for the following step.</p>
<table><thead><tr><th>Property</th><th>DTR Inquiry Result (<span style="color:green">Reuse</span>, <span style="color:orange">Extend</span>, <span style="color:red">Create</span>)</th></tr></thead><tbody>
<tr><td>sid</td><td><span style="color:green">Reuse</span> <strong>unicode-line-string</strong> (21.T11148/f1627ce85386d8d75078)</td></tr>
<tr><td>permission</td><td><span style="color:red">Create</span> <strong>permission</strong> (21.T11148/1785713451d01948bc96)</td></tr>
</tbody></table>
<p>Now, we've all elements to create the <code>aclEntry</code> Data Type, which will be serve as single element of <code>aclList</code> in our modeled structure.</p>
<p>We create a new Data Type but this time, we select <code>PID-InfoType</code> at the Dropdown Button.</p>
<p><img src="./images/datatype_aclentry_create_1.png" alt="" /></p>
<p>After adding Data Type Name and Contributor we continue with defining the properties. According to our checklist we should add two properties: <code>sid</code> and <code>permission</code>.</p>
<p><img src="./images/datatype_aclentry_create_2.png" alt="" /></p>
<p><img src="./images/datatype_aclentry_create_3.png" alt="" /></p>
<p>We assign a name, e.g., the name of the attribute in our structure. Under <em>TID of Existing Data Type</em> we put in the according PID from our checklist representing the respective property, e.g., <em>21.T11148/f1627ce85386d8d75078</em> for <em>sid</em>. Furthermore, we may add Representation and Semantics information, e.g., about obligation, repeatability or for providing a constant value. If done, we can save the <code>aclEntry</code> Data Type and receive a PID, in our case <em>21.T11148/1785713451d01948bc96</em>, which we can now use to define the <code>aclList</code> in the next step. </p>
<h2><a class="header" href="#32-register-extended-child-data-types" id="32-register-extended-child-data-types">3.2 Register extended Child-Data Type(s)</a></h2>
<p>After registering elements of the lower hierarchy, e.g., <code>permission</code> and <code>aclEntry</code> we now proceed with the next higher level, namely the <code>aclList</code> Data Type. We start as before with creating a new Data Type of type <em>PID-InfoType</em>.</p>
<p><img src="./images/datatype_acllist_create_1.png" alt="" /></p>
<p>We add a Type name as well as the Contributor information as for all other Data Types. The following steps are slightly different, as you can see in the following screenshot.</p>
<p><img src="./images/datatype_acllist_create_2.png" alt="" /></p>
<p>First, in the <em>Represenatations and Semantics</em> section we add the value <code>isArrayWithGivenProperties</code> under <em>Relations for Sub-Schemas in Properties-Section</em>. This states, that the properties defined later will form an array representation in the resulting type, which is what we want for the <code>aclList</code>. Afterwards, we add one property, which has the Data Type of an <em>aclEntry</em> we've just defined. Note here, that the Data Type Name must not match the actual name of the used Data Type, which was <em>aclEntry</em> but can be freely chosen. However, for the Existing Data Type we use the PID of the <em>aclEntry</em>. In our example, we set the <em>Obligation</em> to <em>Mandatory</em> and do not allow multiple entries of <em>aclList</em> by setting <em>Repeatable</em> to <em>No</em>. Furthermore, we set <em>Omit Name as Subsidiary</em> to <em>Yes</em>. Please see to following example to understand the reason behind.</p>
<p><img src="./images/omit_subsidiary.png" alt="" /></p>
<p>On the left side you see an <em>aclList</em> without omitting the name of subsidiaries. You can see <em>aclEntry</em> appearing on each child element. On the right side you see what omitting of subsidiary names does and as this is the commonly used representation of array elements, we omit the name <em>aclEntry</em> by setting the property. That's it, we defined our <em>aclList</em> Data Type and we can save it. In our case, the resulting PID is <em>21.T11148/8b7b3f1b796a4dc1030f</em> which we can now add to our main checklist.</p>
<table><thead><tr><th>Property</th><th>DTR Inquiry Result (<span style="color:green">Reuse</span>, <span style="color:orange">Extend</span>, <span style="color:red">Create</span>)</th></tr></thead><tbody>
<tr><td>id</td><td><span style="color:green">Reuse</span> <strong>unicode-line-string</strong> (21.T11148/f1627ce85386d8d75078)</td></tr>
<tr><td>pid</td><td><span style="color:green">Reuse</span> <strong>identifier-general</strong> (21.T11148/38330bcc6a40ca85e5b4)</td></tr>
<tr><td>relatedResource</td><td><span style="color:green">Reuse</span> <strong>URL</strong> (21.T11148/e0efc41346cda4ba84ca)</td></tr>
<tr><td>createdAt</td><td><span style="color:green">Reuse</span> <strong>date-time-rfc3339</strong> (21.T11148/3bfb2839a6967114bc3e)</td></tr>
<tr><td>lastUpdate</td><td><span style="color:green">Reuse</span> <strong>date-time-rfc3339</strong> (21.T11148/3bfb2839a6967114bc3e)</td></tr>
<tr><td>schemaId</td><td><span style="color:green">Reuse</span> <strong>unicode-line-string</strong> (21.T11148/f1627ce85386d8d75078)</td></tr>
<tr><td>recordVersion</td><td><span style="color:green">Reuse</span> <strong>non_negative_integer</strong> (21.T11148/eca44a2ac007d5e126f5)</td></tr>
<tr><td>metadataDocumentUri</td><td><span style="color:green">Reuse</span> <strong>URL</strong> (21.T11148/e0efc41346cda4ba84ca)</td></tr>
<tr><td>documentHash</td><td><span style="color:green">Reuse</span> <strong>sha-checksum</strong> (21.T11148/66bf538937bf74bfc48a)</td></tr>
<tr><td>aclList</td><td><span style="color:red">Create</span> <strong>aclList</strong> (21.T11148/8b7b3f1b796a4dc1030f)</td></tr>
</tbody></table>
<p>The checklist on the top hierarchy level is now complete and we can define our final Data Type representing our envisioned structure.</p>
<h2><a class="header" href="#33-register-main-data-type" id="33-register-main-data-type">3.3 Register main Data Type</a></h2>
<p>Finally, we arrived at the step where we collected everything in order to create our main Data Type. All these information are collected in our checklist, which we use now for defining this Data Type.</p>
<table><thead><tr><th>Property</th><th>DTR Inquiry Result (<span style="color:green">Reuse</span>, <span style="color:orange">Extend</span>, <span style="color:red">Create</span>)</th></tr></thead><tbody>
<tr><td>id</td><td><span style="color:green">Reuse</span> <strong>unicode-line-string</strong> (21.T11148/f1627ce85386d8d75078)</td></tr>
<tr><td>pid</td><td><span style="color:green">Reuse</span> <strong>identifier-general</strong> (21.T11148/38330bcc6a40ca85e5b4)</td></tr>
<tr><td>relatedResource</td><td><span style="color:green">Reuse</span> <strong>URL</strong> (21.T11148/e0efc41346cda4ba84ca)</td></tr>
<tr><td>createdAt</td><td><span style="color:green">Reuse</span> <strong>date-time-rfc3339</strong> (21.T11148/3bfb2839a6967114bc3e)</td></tr>
<tr><td>lastUpdate</td><td><span style="color:green">Reuse</span> <strong>date-time-rfc3339</strong> (21.T11148/3bfb2839a6967114bc3e)</td></tr>
<tr><td>schemaId</td><td><span style="color:green">Reuse</span> <strong>unicode-line-string</strong> (21.T11148/f1627ce85386d8d75078)</td></tr>
<tr><td>recordVersion</td><td><span style="color:green">Reuse</span> <strong>non_negative_integer</strong> (21.T11148/eca44a2ac007d5e126f5)</td></tr>
<tr><td>metadataDocumentUri</td><td><span style="color:green">Reuse</span> <strong>URL</strong> (21.T11148/e0efc41346cda4ba84ca)</td></tr>
<tr><td>documentHash</td><td><span style="color:green">Reuse</span> <strong>sha-checksum</strong> (21.T11148/66bf538937bf74bfc48a)</td></tr>
<tr><td>aclList</td><td><span style="color:red">Create</span> <strong>aclList</strong> (21.T11148/8b7b3f1b796a4dc1030f)</td></tr>
</tbody></table>
<p>At first, we create a new Data Type of Type <em>PID-InfoType</em>.</p>
<p><img src="./images/datatype_metadatarecord_create_1.png" alt="" /></p>
<p>As before, we assign a <em>Type Name</em>, maybe a short <em>Description</em> and <em>Contributor</em> information. Afterwards, we add properties for each entry in our checklist assigning a <em>Data Type Name</em>, e.g., the value in the Property column of our checklist, and the <em>TID of Existing Data Type</em>, which is the <em>PID</em> value in the DTR Inquiry Result column. The <em>Obligation</em> we may or may not set to <em>Mandatory</em>, the <em>Repeatable</em> value should be set to <em>No</em> as each attribute of our structure can also appear once and <em>Omit Names as Subsidiary</em> should also stay <em>No</em> in that case, as we need to map the single values to the according properties by name. After transferring all properties we can save the <em>metadataRecord</em> Data Type and receive a new PID with value <em>21.T11148/6a29026053036431de11</em>. </p>
<p>This PID now represents exactly the structure shown at the beginning:</p>
<p><img src="./images/datatype_resource.png" alt="" /></p>
<p>We are finished now with this receipt. If you like, you can check the next page for possible applications of the defined Data Type.</p>
<h1><a class="header" href="#create-a-pid-kernel-information-profile" id="create-a-pid-kernel-information-profile">Create a PID Kernel Information Profile</a></h1>
<p>In receipt we will show how you to create a PID Kernel Information Profile (KIP). The KIP is a special Data Type which allows you to define and validate elements in a PID Information Record. The goal is, to store a small subset of metadata in this record directly in the PID resolving service to allow fast, machine actionable decisions already on the PID-level. Thus, a machine can decide on further resolution of the referenced content or withdraw the PID if does not contain any interpretable information. </p>
<hr />
<h2><a class="header" href="#ingredients-7" id="ingredients-7">Ingredients</a></h2>
<ul>
<li>Data Type Registry (DTR), e.g. <a href="http://dtr-test.pidconsortium.eu/">http://dtr-test.pidconsortium.eu/</a></li>
<li>Registered user account at Data Type Registry</li>
<li>Web Browser</li>
</ul>
<hr />
<h2><a class="header" href="#work-steps-2" id="work-steps-2">Work Steps</a></h2>
<nestednumerationlist>
<ol>
<li><a href="./kip_step_1.html">Search data type registry for suitable KIP</a></li>
<li><a href="./kip_step_2.html">Describe/model envisioned KIP</a>
<ol>
<li><a href="./kip_step_2_1.html">Call to mind basic KIP principles</a></li>
<li><a href="./kip_step_2_2.html">Decide on KIP contents</a></li>
</ol>
</li>
<li><a href="./kip_step_3.html">Register new KIP in Data Type Registry</a></li>
</ol>
</nestednumerationlist>
<blockquote>
<p><span style="color:orange">Before you start using this recipe it is recommended, to go through the recipe <a href="./datatypes_intro.html">Create a Data Type</a> as it explains basics for using the Data Type Registry, which is also the place where PID Kernel Information Profiles are created and managed.</span></p>
</blockquote>
<h2><a class="header" href="#1-search-data-type-registry-for-suitable-data-type-1" id="1-search-data-type-registry-for-suitable-data-type-1">1. Search data type registry for suitable data type</a></h2>
<p>This first step assumes, that you have (read) access to a Data Type Registry, e.g., <a href="http://dtr-test.pidconsortium.eu/">http://dtr-test.pidconsortium.eu/</a>. Open the link to the DTR in your Web Browser and query for an existing Kernel Information Profile, which might fit to your use case. The key question should be, which machine actionable decisions must be possible based on the KIP contents. There are probably a couple of basic and generic profiles available which can be reused or at least taken as an example. You may use the following decision graph showing what will be the next step depending on what you found. </p>
<p><img src="./images/kip_step1.png" alt="Search Data Type Registry" /></p>
<p>In the course of this recipe we assume, that we have to create a new KIP.</p>
<h2><a class="header" href="#2-describemodel-envisioned-kip" id="2-describemodel-envisioned-kip">2. Describe/model envisioned KIP</a></h2>
<p>Assuming that your search ended up at <em>Create new KIP</em>, we now have to model the profile which we will register later. Before we start thinking about possible elements of our new KIP, we should internalize a couple of key principles of Kernel Information Profiles. Those are listed on the next page. </p>
<h2><a class="header" href="#21-call-to-mind-basic-kip-principles" id="21-call-to-mind-basic-kip-principles">2.1 Call to mind basic KIP principles</a></h2>
<h3><a class="header" href="#principle-1" id="principle-1">Principle 1:</a></h3>
<pre><code>The primary purpose of a PID KI record is to serve machine actionable services.
</code></pre>
<p>This means, you should *<strong>avoid including attributes whose main audience are humans</strong>.</p>
<h3><a class="header" href="#principle-2" id="principle-2">Principle 2:</a></h3>
<pre><code>Attributes (items) in the profile are expressed as key-value pairs where the values are simple (indivisible).
</code></pre>
<p>In other words, you should <em><strong>avoid using complex attribute values</strong></em>, e.g., JSON or XML structures, as a consumer might have difficulties while interpreting them. Furthermore, it is not recommended to use frequently changing attribute values, e.g., incomplete lists, as this would increase the frequency of changes of PID records making a proper caching and indexing of them hard.</p>
<h3><a class="header" href="#principle-3" id="principle-3">Principle 3:</a></h3>
<pre><code>PID Kernel Information is stored directly at the resolving service and not referenced. 
</code></pre>
<p>This means, that values which are <strong>required for interpreting</strong> the PID records should <strong>not be stored in an external system</strong>, e.g., additional metadata describing the referenced resource. The main reason is, that additional round trips using different interfaces should be avoided for performance, interoperability and reusability reasons. </p>
<h3><a class="header" href="#principle-4" id="principle-4">Principle 4:</a></h3>
<pre><code>PID Record values should change infrequently and possible without human interaction.
</code></pre>
<p>The guiding principle here is that PID Records are <strong>made for machines by machine</strong>. Human interaction would be time consuming and error prone, thus PID Records should be filled and updated according to a KIP by tools taking care of translating information coming from e.g. repositories into information following the KIP definition used.</p>
<h3><a class="header" href="#principle-5" id="principle-5">Principle 5:</a></h3>
<pre><code class="language-markdown">A profile should adhere to the following two requirements. Doing so may reduce migration issues in the event of profile revision:
   * Every attribute in a profile depends only on the identified object and no other 		 objects.
   * Every attribute in a profile describes the object directly and does not describe 		 another attribute in the same profile.
</code></pre>
<p>Explaining this principle works best with a counter example. Let's assume our PID refers to a file and we want to include file format information, e.g., format name and version, into the PID Record. Including both information into the KIP of the referenced file would break with this principle, as the version number is related to the file format and not the the referenced resource. Instead, file format and version should e.g. be stored in a separate PID's Record and this PID should then be used in our profile to uniquely identify the file format with its specific version. </p>
<h3><a class="header" href="#principle-6" id="principle-6">Principle 6:</a></h3>
<pre><code class="language-markdown">A PID Record is a non-authoritative source of metadata.
</code></pre>
<p>This final principle is related to the use of PID Kernel Information. All information stored in the PID Record are non-authoritative, which means, that they might be outdated or even invalid when accessing them. It's in the duty of the provider of such information to keep them up to date in the PID Record. Thus, the only authoritative source of metadata is the original source of information stored in the PID Record.</p>
<h2><a class="header" href="#22-decide-on-kip-contents" id="22-decide-on-kip-contents">2.2 Decide on KIP contents</a></h2>
<p>With our six key principles in mind, we can now start defining our PID Kernel Information Profile. As a basis, it is highly recommended to adopt the <a href="https://www.rd-alliance.org/system/files/RDA%20Recommendation%20on%20PID%20Kernel%20Information_final.pdf">Recommendation on PID Kernel Information of the Research Data Alliance</a>. Doing so, we'll start with a couple of recommended elements.</p>
<table><thead><tr><th>Property</th><th>Description</th></tr></thead><tbody>
<tr><td>kernelInformationProfile</td><td>PID of the KIP for this PID record</td></tr>
<tr><td>digitalObjectType</td><td>PID of the Data Type of the referenced object</td></tr>
<tr><td>digitalObjectLocation</td><td>Location URL of the referenced object</td></tr>
<tr><td>digitalObjectPolicy</td><td>PID of the policy object with e.g. license information</td></tr>
<tr><td>etag</td><td>Etag of the current state of the referenced object</td></tr>
<tr><td>dateModified</td><td>Last modification date of the references object</td></tr>
<tr><td>dateCreated</td><td>Creation date of the referenced object</td></tr>
<tr><td>version</td><td>Version of the referenced object</td></tr>
<tr><td>wasDerivedFrom</td><td>PID of another object according to <a href="https://www.w3.org/TR/2013/REC-prov-dm-20130430/">PROV-DM</a> recommendation</td></tr>
<tr><td>specializationOf</td><td>PID of another object according to <a href="https://www.w3.org/TR/2013/REC-prov-dm-20130430/">PROV-DM</a> recommendation</td></tr>
<tr><td>wasRevisionOf</td><td>PID of another object according to <a href="https://www.w3.org/TR/2013/REC-prov-dm-20130430/">PROV-DM</a> recommendation</td></tr>
<tr><td>hadPrimarySource</td><td>PID of another object according to <a href="https://www.w3.org/TR/2013/REC-prov-dm-20130430/">PROV-DM</a> recommendation</td></tr>
<tr><td>wasQuotedFrom</td><td>PID of another object according to <a href="https://www.w3.org/TR/2013/REC-prov-dm-20130430/">PROV-DM</a> recommendation</td></tr>
<tr><td>alternateOf</td><td>PID of another object according to <a href="https://www.w3.org/TR/2013/REC-prov-dm-20130430/">PROV-DM</a> recommendation</td></tr>
</tbody></table>
<p>As we've learned in the recipe on <a href="./datatype_into.html">Create a Data Type</a>, we now prepare our checklist containing at least the recommended properties and their Data Type PIDs.</p>
<table><thead><tr><th>Property</th><th>DTR Inquiry Result (<span style="color:green">Reuse</span>, <span style="color:orange">Extend</span>, <span style="color:red">Create</span>)</th></tr></thead><tbody>
<tr><td>kernelInformationProfile</td><td><span style="color:green">KernelInformationProfile</span> (21.T11148/076759916209e5d62bd5)</td></tr>
<tr><td>digitalObjectType</td><td><span style="color:green">digitalObjectType</span> (21.T11148/1c699a5d1b4ad3ba4956)</td></tr>
<tr><td>digitalObjectLocation</td><td><span style="color:green">digitalObjectLocation</span> (21.T11148/b8457812905b83046284)</td></tr>
<tr><td>digitalObjectPolicy</td><td><span style="color:green">digitalObjectPolicy</span> (21.T11148/8074aed799118ac263ad)</td></tr>
<tr><td>etag</td><td><span style="color:green">etag</span> (21.T11148/92e200311a56800b3e47)</td></tr>
<tr><td>dateModified</td><td><span style="color:green">dateModified</span> (21.T11148/397d831aa3a9d18eb52c)</td></tr>
<tr><td>dateCreated</td><td><span style="color:green">dateCreated</span> (21.T11148/397d831aa3a9d18eb52c)</td></tr>
<tr><td>version</td><td><span style="color:green">version</span> (21.T11148/c692273deb2772da307f)</td></tr>
<tr><td>wasDerivedFrom</td><td><span style="color:green">wasDerivedFrom</span> (21.T11148/c6e4c19f294ee6f41b1e)</td></tr>
<tr><td>specializationOf</td><td><span style="color:green">spezializationOf</span> (21.T11148/ab53242825e85a0a7f76)</td></tr>
<tr><td>wasRevisionOf</td><td><span style="color:green">wasRevisionOf</span> (21.T11148/2a1cad55473b20407c78)</td></tr>
<tr><td>hadPrimarySource</td><td><span style="color:green">hadPrimarySource</span> (21.T11148/a753134738da82809fc1)</td></tr>
<tr><td>wasQuotedFrom</td><td><span style="color:green">wasQuotedFrom</span> (21.T11148/beaeecebec408908de35)</td></tr>
<tr><td>alternateOf</td><td><span style="color:green">alternateOf</span> (21.T11148/432132bdbd946b2baf2b)</td></tr>
</tbody></table>
<p>Now you may add additional properties, which you need according to your use case, e.g., the reference to a utilized instrument, geo location information, data format information, or information about software that can be used to process the referenced resource. Afterwards, for each of the added properties the following evaluation process, similar to the Data Type Registry Inquiry while creating a new Data Type, has to be performed.</p>
<p><img src="./images/kip_step2.png" alt="Property Inquiry" /></p>
<p>After this process, you'll end up with a checklist containing either matching Data Type PIDs for all your properties or you'll have to create a new Data Type for the one or the other property. In that case, please refer to the recipe <a href="./datatypes_intro.html">Create a Data Type</a> before you proceed.</p>
<h2><a class="header" href="#3-register-new-kip-in-data-type-registry" id="3-register-new-kip-in-data-type-registry">3. Register new KIP in Data Type Registry</a></h2>
<p>After collecting all properties and their Data Types in our checklist, the next step is to create a Kernel Information Profile in the Data Type Registry. After logging in, you are able to create a new Data Type using the <code>Create</code> Dropdown Button next to the search field. Here you should select <code>KernelInformationProfile</code>. </p>
<p><img src="./images/kip_step3.png" alt="KIP Creation" /></p>
<p>You may now add a name for the profile as well as constributor information as shown in the screenshot above. Afterwards, you have to transfer all properties in your checklist to properties of your Kernel Information Profile entry in the Data Type Registry. For more details, please check the recipe on <a href="./datatypes_intro.html">Create a Data Type</a>.</p>
<h1><a class="header" href="#appendix" id="appendix">Appendix</a></h1>
<p>This chapter contains additional information, extending the scope of the recipes.</p>
<ol>
<li><a href="appendix/./appendix_pit.html">PID Information Types service</a></li>
</ol>
<h2><a class="header" href="#pid-information-types-service" id="pid-information-types-service">PID Information Types service</a></h2>
<p>Our PID information types service implementation is a service that abstracts the use (<a href="https://de.wikipedia.org/wiki/CRUD">CRUD</a>) of PID services and validation using a data type registry. Its API makes it easier for clients to handle PIDs and make sure the records are validated before registering. It also offers possibility to notify other services about new or updated PIDs, which enables data curators to flexibly build search indices. It's use cases are described in the recipe collection <a href="appendix/../pids/intro.html">&quot;Working with PIDs&quot;</a>.</p>
<blockquote>
<p>A PID information types instance for production needs a prefix of a compatible PID service, which is a financial and administrative matter and is something not every researcher will do on her own. Consider to find a service provider which can give you access to a PID information types service instance and skip the rest of this appendix. If you do have a PID prefix and want to do it yourself or want to try it with a in-memory &quot;sandboxed&quot; PID service (for testing only!), read on.</p>
</blockquote>
<p>The PIT service is part of the <a href="appendix/../appendix/appendix_testbed.html">testbed</a></p>
<blockquote>
<p>Please note that the PID Information Types Service is still in heavy development and not yet ready for production use. (June 2021)</p>
</blockquote>
<blockquote>
<p>Note: The PID information types service does not support every PID system, but can be extended. Feel free to open an issue on the <a href="https://github.com/kit-data-manager/pit-service">Github Page</a> if your PID type is not supported. As of now (June 2021) it supports only PID services building on the federated Handle System.</p>
<p>Also, it includes a small sandboxed PID service in it's default configuration for testing purposes. Note that these sandboxed PIDs are <strong>not</strong> publicly resolvable, do only exist in this instance and are not stored permanently. But it might be enough for you to e.g. test the API or your PID workflows.</p>
</blockquote>
<p><a href="https://github.com/kit-data-manager/pit-service">PID Information Types Source code and documentation on Github</a>.</p>
<p><a href="https://github.com/kit-data-manager/testbed4inf">Testbed source code and documentation on Github</a>.</p>
<h1><a class="header" href="#fair-do-ecosystem-testbed" id="fair-do-ecosystem-testbed">FAIR DO Ecosystem Testbed</a></h1>
<p>The FAIR Digital Object Ecosystem Testbed is developed at Karlsruhe Institute of Technology (KIT) as a contribution to the Helmholtz Metadata Collaboration (HMC)<sup class="footnote-reference"><a href="#hmc">1</a></sup> platform. HMC promotes the qualitative enrichment of research data by means of metadata – and implements this approach across the whole Helmholtz Association of German Research Centers.
The introduction of FAIR Digital Objects plays a dominant role in the development of technical services in HMC since it promises</p>
<ul>
<li>to harmonize the machine-actionable handling of research data objects on a concept level,</li>
<li>to provide metadata for technical and semantic interoperability,</li>
<li>to integrate a wide range of digital objects including data, software and other
research artifacts, and</li>
<li>will enable the cross-disciplinary exploitation of the contents of big research data
collections.</li>
</ul>
<blockquote>
<p>Please note the testbed is not meant to be used in production as a whole, as it may contain services in a proof-of-concept state and is subject to change. You may use it for experimentation, inspiration and discussion, or limit the set of services to those who are production-ready.</p>
</blockquote>
<div class="footnote-definition" id="hmc"><sup class="footnote-definition-label">1</sup>
<p><a href="https://www.hmc-plattform.org/en">https://www.hmc-plattform.org/en</a></p>
</div>
<h2><a class="header" href="#intention" id="intention">Intention</a></h2>
<p>The FAIR Digital Object Ecosystem Testbed intends to demonstrate the feasibility of FAIR DO usage, to allow easy access to FAIR DOs and to to drive discussions about the implementation.</p>
<p><img src="appendix/../images/testbed_poster-overview.png" alt="Simplified testbed overview" /></p>
<p>The Testbed consists of a set of services to facilitate and demonstrate generic use cases for FAIR DOs, with a strong focus on PIDs and PID Information Records, and explicitly not covering data storage and repositories. It is not a hosted demonstrator. Instead, you can download and run it on your everyday computer<sup class="footnote-reference"><a href="#testbedrepo">2</a></sup>. As the services interact to fulfill some of the use cases, we describe them as an ecosystem. Yet, every service can be used independently<sup class="footnote-reference"><a href="#testbedcomposeyml">3</a></sup> <sup class="footnote-reference"><a href="#kitdm">4</a></sup>.
The Testbed can also be used as an environment to test the interplay with other services (e.g. repositories).</p>
<div class="footnote-definition" id="testbedrepo"><sup class="footnote-definition-label">2</sup>
<p>Testbed instructions and download: <a href="https://github.com/kit-data-manager/testbed4inf">https://github.com/kit-data-manager/testbed4inf</a></p>
</div>
<div class="footnote-definition" id="testbedcomposeyml"><sup class="footnote-definition-label">3</sup>
<p>Service composition definition file in the testbed: <a href="https://github.com/kit-data-manager/testbed4inf/blob/master/docker-compose.yml">https://github.com/kit-data-manager/testbed4inf/blob/master/docker-compose.yml</a></p>
</div>
<div class="footnote-definition" id="kitdm"><sup class="footnote-definition-label">4</sup>
<p>KIT Data Manager services <a href="https://github.com/kit-data-manager/">https://github.com/kit-data-manager/</a></p>
</div>
<h2><a class="header" href="#implementation" id="implementation">Implementation</a></h2>
<p>The FAIR Digital Object Implementation is based on the federated Handle PID System<sup class="footnote-reference"><a href="#handlesystem">5</a></sup> and PID Kernel Information (within the PID records). To make the start of the testbed as easy as possible, the testbed services are abstracted using Docker Containers and can be started as a bundle using Docker-Compose. As it uses external resources like external containerized services, the Handle system and an external type registry<sup class="footnote-reference"><a href="#dtr">6</a></sup> , an internet connection is required.
A central component of the testbed is the <a href="appendix/appendix_pit.html">PIT service</a>, offering a simple API to ease the usage of PIDs in a FAIR way.</p>
<p>The testbed download and instructions are available at <a href="https://github.com/kit-data-manager/testbed4inf">https://github.com/kit-data-manager/testbed4inf</a>.</p>
<div class="footnote-definition" id="handlesystem"><sup class="footnote-definition-label">5</sup>
<p><a href="https://handle.net/">https://handle.net/</a> , <a href="https://hdl.handle.net/">https://hdl.handle.net/</a></p>
</div>
<div class="footnote-definition" id="dtr"><sup class="footnote-definition-label">6</sup>
<p><a href="http://dtr-test.pidconsortium.net/">http://dtr-test.pidconsortium.net/</a></p>
</div>
<h2><a class="header" href="#implemented-use-cases" id="implemented-use-cases">Implemented use cases</a></h2>
<ul>
<li><a href="appendix/../pids/create.html">Create a PID with a validated record</a></li>
<li><a href="appendix/../pids/resolve.html">Read a PIDs record information (Resolve a PID)</a></li>
<li><a href="appendix/../pids/update.html">Manipulate a PID record with validated information (Update a PID record)</a></li>
<li><a href="appendix/../pids/notify.html">Inform other systems about changes</a></li>
<li><a href="appendix/../pids/search.html">Searching PIDs using record information</a></li>
</ul>
<h2><a class="header" href="#contact" id="contact">Contact</a></h2>
<p>Via Github: <a href="https://github.com/kit-data-manager/testbed4inf/issues">https://github.com/kit-data-manager/testbed4inf/issues</a></p>
<p>Via Mail:</p>
<ul>
<li>Pfeil, Andreas <a href="mailto:appendix/andreas.pfeil@kit.edu">andreas.pfeil@kit.edu</a></li>
<li>Jejkal, Thomas <a href="mailto:appendix/thomas.jejkal@kit.edu">thomas.jejkal@kit.edu</a></li>
</ul>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        

                        

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                

                
            </nav>

        </div>

        <script>
            function updateThemeElements() {
                try {
                    var html = document.querySelector('html');
                    var theme = localStorage.getItem('mdbook-theme');
                    var white_themes = ["light"]
                    var light_themes = ["rust"]
                    var light_only_elements = html.getElementsByClassName("lightonly")
                    var dark_only_elements = html.getElementsByClassName("darkonly")
                    var white_only_elements = html.getElementsByClassName("whiteonly")
                    console.log(theme)
                    console.log(light_themes)
                    if (light_themes.includes(theme)) {
                        for (light_only of light_only_elements) {
                            light_only.classList.remove("hideme")
                        }
                        for (dark_only of dark_only_elements) {
                            dark_only.classList.add("hideme")
                        }
                        for (white_only of white_only_elements) {
                            white_only.classList.add("hideme")
                        }
                    } else if (white_themes.includes(theme)) {
                        for (light_only of light_only_elements) {
                            light_only.classList.add("hideme")
                        }
                        for (dark_only of dark_only_elements) {
                            dark_only.classList.add("hideme")
                        }
                        for (white_only of white_only_elements) {
                            white_only.classList.remove("hideme")
                        }
                    } else {
                        for (light_only of light_only_elements) {
                            light_only.classList.add("hideme")
                        }
                        for (dark_only of dark_only_elements) {
                            dark_only.classList.remove("hideme")
                        }
                        for (white_only of white_only_elements) {
                            white_only.classList.add("hideme")
                        }
                    }
                } catch (e) { }
            }
            updateThemeElements() // call it once in the beginning
            // configure to call the function when theme changes.
            // the theme is stored as a class in the html tag, so we observe changes in this tag.
            var themeStorage = document.querySelector('html');
            const config = { attributes: true, childList: false, subtree: false };
            const callback = function(mutationsList, observer) {updateThemeElements()}
            const observer = new MutationObserver(callback);
            observer.observe(themeStorage, config);
        </script>

        

        

        

        
        <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        

        

        
        <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>
        

        <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        

        
        
        <script type="text/javascript">
        window.addEventListener('load', function() {
            window.setTimeout(window.print, 100);
        });
        </script>
        
        

    </body>
</html>
